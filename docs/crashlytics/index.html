<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-crashlytics/README">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Crashlytics | Kermit</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://kermit.touchlab.dev/docs/crashlytics/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="robots" content="noindex,follow"><meta data-rh="true" name="Cache-Control" content="no-cache, no-store, must-revalidate"><meta data-rh="true" name="Pragma" content="no-cache"><meta data-rh="true" name="Expires" content="0"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Crashlytics | Kermit"><meta data-rh="true" name="description" content="With the kermit-crashlytics module, you can setup kermit to automatically send bread crumbs and crash reports to"><meta data-rh="true" property="og:description" content="With the kermit-crashlytics module, you can setup kermit to automatically send bread crumbs and crash reports to"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://kermit.touchlab.dev/docs/crashlytics/"><link data-rh="true" rel="alternate" href="https://kermit.touchlab.dev/docs/crashlytics/" hreflang="en"><link data-rh="true" rel="alternate" href="https://kermit.touchlab.dev/docs/crashlytics/" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-DYZ3Y11NQD"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-DYZ3Y11NQD",{})</script><link rel="stylesheet" href="/assets/css/styles.a9c784e8.css">
<link rel="preload" href="/assets/js/runtime~main.4d0055db.js" as="script">
<link rel="preload" href="/assets/js/main.faa4503e.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/Touchlab_Gradient.png" alt="Touchlab Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/Touchlab_Gradient.png" alt="Touchlab Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Kermit</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a href="https://kermit.touchlab.co/htmlMultiModule/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">SDK Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><a href="https://touchlab.co/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Touchlab Site<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/">Kermit &lt;sub&gt;the log&lt;/sub&gt;</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/LOG_WRITER">LogWriter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/crashlytics/">Crashlytics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/bugsnag/">Bugsnag</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/DESIGN">Design Philosophy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/NON_KOTLIN">NON_KOTLIN</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/PERFORMANCE">Performance</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Crashlytics</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Crashlytics</h1><p>With the <code>kermit-crashlytics</code> module, you can setup kermit to automatically send bread crumbs and crash reports to
Firebase Crashlytics</p><p>If you just want to write crash reports without using Kermit logging, see <a href="https://github.com/touchlab/CrashKiOS" target="_blank" rel="noopener noreferrer">CrashKiOS</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-add-crashlytics-to-your-native-project">Step 1: Add Crashlytics to Your Native Project<a href="#step-1-add-crashlytics-to-your-native-project" class="hash-link" aria-label="Direct link to Step 1: Add Crashlytics to Your Native Project" title="Direct link to Step 1: Add Crashlytics to Your Native Project">​</a></h2><p>If you already have your app setup with Crashlytics, you can skip this step, otherwise follow the steps in the Firebase
docs to add Crashlytics crash reporting to both your <a href="https://firebase.google.com/docs/crashlytics/get-started?authuser=0&amp;platform=android" target="_blank" rel="noopener noreferrer">Android</a>
and <a href="https://firebase.google.com/docs/crashlytics/get-started?authuser=0&amp;platform=ios" target="_blank" rel="noopener noreferrer">iOS</a> </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-setup-kermit-crash-logging">Step 2: Setup Kermit Crash Logging<a href="#step-2-setup-kermit-crash-logging" class="hash-link" aria-label="Direct link to Step 2: Setup Kermit Crash Logging" title="Direct link to Step 2: Setup Kermit Crash Logging">​</a></h2><p>First, make sure you have a dependency on <code>kermit</code> and <code>kermit-crashlytics</code> artifacts in your <code>commonMain</code> source set in
your shared modules <code>build.gradle</code></p><div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#2b2b2b;--prism-color:#c8d0de"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#c8d0de"><span class="token plain">    sourceSets </span><span class="token punctuation" style="color:#c8d0de">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">        commonMain </span><span class="token punctuation" style="color:#c8d0de">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">            dependencies </span><span class="token punctuation" style="color:#c8d0de">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">                </span><span class="token function" style="color:#ffc66d">implementation</span><span class="token punctuation" style="color:#c8d0de">(</span><span class="token string-literal singleline string" style="color:#6a8759">&quot;co.touchlab:kermit:</span><span class="token string-literal singleline interpolation interpolation-punctuation punctuation" style="color:#c8d0de">${</span><span class="token string-literal singleline interpolation expression">KERMIT_VERSION</span><span class="token string-literal singleline interpolation interpolation-punctuation punctuation" style="color:#c8d0de">}</span><span class="token string-literal singleline string" style="color:#6a8759">&quot;</span><span class="token punctuation" style="color:#c8d0de">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">                </span><span class="token function" style="color:#ffc66d">implementation</span><span class="token punctuation" style="color:#c8d0de">(</span><span class="token string-literal singleline string" style="color:#6a8759">&quot;co.touchlab:kermit-crashlytics:</span><span class="token string-literal singleline interpolation interpolation-punctuation punctuation" style="color:#c8d0de">${</span><span class="token string-literal singleline interpolation expression">KERMIT_VERSION</span><span class="token string-literal singleline interpolation interpolation-punctuation punctuation" style="color:#c8d0de">}</span><span class="token string-literal singleline string" style="color:#6a8759">&quot;</span><span class="token punctuation" style="color:#c8d0de">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">            </span><span class="token punctuation" style="color:#c8d0de">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">        </span><span class="token punctuation" style="color:#c8d0de">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain"></span><span class="token operator" style="color:#a9b7c6">..</span><span class="token punctuation" style="color:#c8d0de">.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Second, setup the <code>CrashlyticsLogWriter</code> with your <code>Logger</code>. The constructor for both platforms is the same, so in
shared code, or in platform-specific Kotlin, run the following:</p><div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#2b2b2b;--prism-color:#c8d0de"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#c8d0de"><span class="token plain">Logger</span><span class="token punctuation" style="color:#c8d0de">.</span><span class="token function" style="color:#ffc66d">addLogWriter</span><span class="token punctuation" style="color:#c8d0de">(</span><span class="token function" style="color:#ffc66d">CrashlyticsLogWriter</span><span class="token punctuation" style="color:#c8d0de">(</span><span class="token punctuation" style="color:#c8d0de">)</span><span class="token punctuation" style="color:#c8d0de">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>On either  platform, you should make sure logging is configured immediately after Crashlytics is initialized, to avoid
a gap where some other failure may happen but logging is not capturing info.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ios">iOS<a href="#ios" class="hash-link" aria-label="Direct link to iOS" title="Direct link to iOS">​</a></h3><p>For iOS, besides regular logging, you will also want to configure Kotlin&#x27;s uncaught exception handling. <code>kermit-crashlytics</code>
provides the <code>setupCrashlyticsExceptionHook</code> helper function to handle this for you.</p><p>If you don&#x27;t need to make kermit logging calls from Swift/Objective C code, we recommend not exporting Kermit in the
framework exposed to your iOS app. To setup Kermit configuration you can make a top level helper method in
the <code>iosMain</code> source set that you call from Swift code. The same rule of thumb applies
to <code>kermit-crashlytics</code> and since the added api is only needed for configuration, a Kotlin helper method is
almost always the best option. Here is a basic example.</p><div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#2b2b2b;--prism-color:#c8d0de"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#c8d0de"><span class="token comment" style="color:#808080">// in Kermit/AppInit.kt</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain"></span><span class="token keyword" style="color:#cc7832">fun</span><span class="token plain"> </span><span class="token function" style="color:#ffc66d">setupKermit</span><span class="token punctuation" style="color:#c8d0de">(</span><span class="token punctuation" style="color:#c8d0de">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#c8d0de">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">    Logger</span><span class="token punctuation" style="color:#c8d0de">.</span><span class="token function" style="color:#ffc66d">addLogWriter</span><span class="token punctuation" style="color:#c8d0de">(</span><span class="token function" style="color:#ffc66d">CrashlyticsLogWriter</span><span class="token punctuation" style="color:#c8d0de">(</span><span class="token punctuation" style="color:#c8d0de">)</span><span class="token punctuation" style="color:#c8d0de">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">    </span><span class="token function" style="color:#ffc66d">setupCrashlyticsExceptionHook</span><span class="token punctuation" style="color:#c8d0de">(</span><span class="token plain">Logger</span><span class="token punctuation" style="color:#c8d0de">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain"></span><span class="token punctuation" style="color:#c8d0de">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#2b2b2b;--prism-color:#c8d0de"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#c8d0de"><span class="token comment" style="color:#808080">// in AppDelegate.swift</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain"></span><span class="token attribute atrule">@UIApplicationMain</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain"></span><span class="token keyword" style="color:#cc7832">class</span><span class="token plain"> </span><span class="token class-name" style="color:#a9b7c6">AppDelegate</span><span class="token punctuation" style="color:#c8d0de">:</span><span class="token plain"> </span><span class="token class-name" style="color:#a9b7c6">UIResponder</span><span class="token punctuation" style="color:#c8d0de">,</span><span class="token plain"> </span><span class="token class-name" style="color:#a9b7c6">UIApplicationDelegate</span><span class="token plain"> </span><span class="token punctuation" style="color:#c8d0de">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">    </span><span class="token operator" style="color:#a9b7c6">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">    </span><span class="token keyword" style="color:#cc7832">func</span><span class="token plain"> </span><span class="token function-definition function" style="color:#ffc66d">application</span><span class="token punctuation" style="color:#c8d0de">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">        </span><span class="token omit keyword" style="color:#cc7832">_</span><span class="token plain"> application</span><span class="token punctuation" style="color:#c8d0de">:</span><span class="token plain"> </span><span class="token class-name" style="color:#a9b7c6">UIApplication</span><span class="token punctuation" style="color:#c8d0de">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">        didFinishLaunchingWithOptions launchOptions</span><span class="token punctuation" style="color:#c8d0de">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#c8d0de">[</span><span class="token class-name" style="color:#a9b7c6">UIApplication</span><span class="token punctuation" style="color:#c8d0de">.</span><span class="token class-name" style="color:#a9b7c6">LaunchOptionsKey</span><span class="token punctuation" style="color:#c8d0de">:</span><span class="token plain"> </span><span class="token keyword" style="color:#cc7832">Any</span><span class="token punctuation" style="color:#c8d0de">]</span><span class="token operator" style="color:#a9b7c6">?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">    </span><span class="token punctuation" style="color:#c8d0de">)</span><span class="token plain"> </span><span class="token operator" style="color:#a9b7c6">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:#a9b7c6">Bool</span><span class="token plain"> </span><span class="token punctuation" style="color:#c8d0de">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">        </span><span class="token comment" style="color:#808080">// Note: This MUST be the first two statement, in this order, for Kermit and Crashlytics</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">        </span><span class="token comment" style="color:#808080">// to handle any crashes in your app launch. </span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">        </span><span class="token comment" style="color:#808080">// If the app crashes before these calls run, it will not show up properly in the dashboard</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">        </span><span class="token class-name" style="color:#a9b7c6">FirebaseApp</span><span class="token punctuation" style="color:#c8d0de">.</span><span class="token function" style="color:#ffc66d">configure</span><span class="token punctuation" style="color:#c8d0de">(</span><span class="token punctuation" style="color:#c8d0de">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">        </span><span class="token class-name" style="color:#a9b7c6">AppInitKt</span><span class="token punctuation" style="color:#c8d0de">.</span><span class="token function" style="color:#ffc66d">setupKermit</span><span class="token punctuation" style="color:#c8d0de">(</span><span class="token punctuation" style="color:#c8d0de">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">        </span><span class="token comment" style="color:#808080">//...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">    </span><span class="token punctuation" style="color:#c8d0de">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain"></span><span class="token punctuation" style="color:#c8d0de">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="testing">Testing<a href="#testing" class="hash-link" aria-label="Direct link to Testing" title="Direct link to Testing">​</a></h2><p>If you are building a <strong>static</strong> framework and you see errors such as:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#2b2b2b;--prism-color:#c8d0de"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#c8d0de"><span class="token plain">Undefined symbols </span><span class="token keyword" style="color:#cc7832">for</span><span class="token plain"> architecture x86_64:</span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">  </span><span class="token string" style="color:#6a8759">&quot;_OBJC_CLASS_</span><span class="token string variable" style="color:#9876aa">$_FIRCrashlytics</span><span class="token string" style="color:#6a8759">&quot;</span><span class="token plain">, referenced from:</span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">      objc-class-ref </span><span class="token keyword" style="color:#cc7832">in</span><span class="token plain"> libco.touchlab.crashkios:crashlytics-cache.a</span><span class="token punctuation" style="color:#c8d0de">(</span><span class="token plain">result.o</span><span class="token punctuation" style="color:#c8d0de">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">  </span><span class="token string" style="color:#6a8759">&quot;_OBJC_CLASS_</span><span class="token string variable" style="color:#9876aa">$_FIRExceptionModel</span><span class="token string" style="color:#6a8759">&quot;</span><span class="token plain">, referenced from:</span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">      objc-class-ref </span><span class="token keyword" style="color:#cc7832">in</span><span class="token plain"> libco.touchlab.crashkios:crashlytics-cache.a</span><span class="token punctuation" style="color:#c8d0de">(</span><span class="token plain">result.o</span><span class="token punctuation" style="color:#c8d0de">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">  </span><span class="token string" style="color:#6a8759">&quot;_OBJC_CLASS_</span><span class="token string variable" style="color:#9876aa">$_FIRStackFrame</span><span class="token string" style="color:#6a8759">&quot;</span><span class="token plain">, referenced from:</span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">      objc-class-ref </span><span class="token keyword" style="color:#cc7832">in</span><span class="token plain"> libco.touchlab.crashkios:crashlytics-cache.a</span><span class="token punctuation" style="color:#c8d0de">(</span><span class="token plain">result.o</span><span class="token punctuation" style="color:#c8d0de">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">ld: symbol</span><span class="token punctuation" style="color:#c8d0de">(</span><span class="token plain">s</span><span class="token punctuation" style="color:#c8d0de">)</span><span class="token plain"> not found </span><span class="token keyword" style="color:#cc7832">for</span><span class="token plain"> architecture x86_64</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then you may need to disable caching for that architecture by adding the following line to <code>gradle.properties</code>:</p><div class="language-groovy codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#2b2b2b;--prism-color:#c8d0de"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-groovy codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#c8d0de"><span class="token plain">kotlin.native.cacheKind.iosX64=none</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If you&#x27;re building a <strong>dynamic</strong> framework, or you&#x27;re using Kotlin version 1.8.0+ which builds dynamic by default,
building for tests will give you an error like this:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#2b2b2b;--prism-color:#c8d0de"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#c8d0de"><span class="token plain">Undefined symbols </span><span class="token keyword" style="color:#cc7832">for</span><span class="token plain"> architecture x86_64:</span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">  </span><span class="token string" style="color:#6a8759">&quot;_OBJC_CLASS_</span><span class="token string variable" style="color:#9876aa">$_FIRStackFrame</span><span class="token string" style="color:#6a8759">&quot;</span><span class="token plain">, referenced from:</span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">      objc-class-ref </span><span class="token keyword" style="color:#cc7832">in</span><span class="token plain"> result.o</span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">  </span><span class="token string" style="color:#6a8759">&quot;_OBJC_CLASS_</span><span class="token string variable" style="color:#9876aa">$_FIRExceptionModel</span><span class="token string" style="color:#6a8759">&quot;</span><span class="token plain">, referenced from:</span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">      objc-class-ref </span><span class="token keyword" style="color:#cc7832">in</span><span class="token plain"> result.o</span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">  </span><span class="token string" style="color:#6a8759">&quot;_OBJC_CLASS_</span><span class="token string variable" style="color:#9876aa">$_FIRCrashlytics</span><span class="token string" style="color:#6a8759">&quot;</span><span class="token plain">, referenced from:</span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">      objc-class-ref </span><span class="token keyword" style="color:#cc7832">in</span><span class="token plain"> result.o</span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">  </span><span class="token string" style="color:#6a8759">&quot;_FIRCLSExceptionRecordNSException&quot;</span><span class="token plain">, referenced from:</span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">      _co_touchlab_crashkios_crashlytics_FIRCLSExceptionRecordNSException_wrapper0 </span><span class="token keyword" style="color:#cc7832">in</span><span class="token plain"> result.o</span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">ld: symbol</span><span class="token punctuation" style="color:#c8d0de">(</span><span class="token plain">s</span><span class="token punctuation" style="color:#c8d0de">)</span><span class="token plain"> not found </span><span class="token keyword" style="color:#cc7832">for</span><span class="token plain"> architecture x86_64</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>To resolve this, you should tell the linker that Bugsnag will be added later. You can do that directly, or you can use our Gradle plugin. It will find all Xcode Frameworks being built by Kotlin and add the necessary linker arguments.</p><div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#2b2b2b;--prism-color:#c8d0de"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#c8d0de"><span class="token plain">plugins </span><span class="token punctuation" style="color:#c8d0de">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">  </span><span class="token function" style="color:#ffc66d">id</span><span class="token punctuation" style="color:#c8d0de">(</span><span class="token string-literal singleline string" style="color:#6a8759">&quot;co.touchlab.crashkios.crashlyticslink&quot;</span><span class="token punctuation" style="color:#c8d0de">)</span><span class="token plain"> version </span><span class="token string-literal singleline string" style="color:#6a8759">&quot;x.y.z&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain"></span><span class="token punctuation" style="color:#c8d0de">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="nsexceptionkt">NSExceptionKt<a href="#nsexceptionkt" class="hash-link" aria-label="Direct link to NSExceptionKt" title="Direct link to NSExceptionKt">​</a></h2><p>CrashKiOS and Kermit previously created 2 reports on a crash because none of the crash reporting clients had an obvious way to do one. <a href="https://github.com/rickclephas" target="_blank" rel="noopener noreferrer">Rick Clephas</a> has done some excellent work figuring that out with <a href="https://github.com/rickclephas/NSExceptionKt" target="_blank" rel="noopener noreferrer">NSExceptionKt</a>. CrashKiOS and Kermit now use parts of NSExceptionKt for crash handling.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/touchlab/Kermit/tree/main/website/docs/crashlytics/README.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-02-20T02:46:45.000Z">Feb 20, 2023</time></b> by <b>Kevin Galligan</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/LOG_WRITER"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">LogWriter</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/bugsnag/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Bugsnag</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#step-1-add-crashlytics-to-your-native-project" class="table-of-contents__link toc-highlight">Step 1: Add Crashlytics to Your Native Project</a></li><li><a href="#step-2-setup-kermit-crash-logging" class="table-of-contents__link toc-highlight">Step 2: Setup Kermit Crash Logging</a><ul><li><a href="#ios" class="table-of-contents__link toc-highlight">iOS</a></li></ul></li><li><a href="#testing" class="table-of-contents__link toc-highlight">Testing</a></li><li><a href="#nsexceptionkt" class="table-of-contents__link toc-highlight">NSExceptionKt</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Touchlab</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://touchlab.co/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/touchlab/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Touchlab Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://twitter.com/TouchlabHQ" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Touchlab</div></div></div></footer></div>
<script src="/assets/js/runtime~main.4d0055db.js"></script>
<script src="/assets/js/main.faa4503e.js"></script>
</body>
</html>